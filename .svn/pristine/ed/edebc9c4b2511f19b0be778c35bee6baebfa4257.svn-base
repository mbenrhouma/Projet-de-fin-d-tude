<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">


<ui:composition template="/template/template.xhtml">

	<ui:define name="main" >
		<h:form id="clientLocataireForm" dir="#{languageBean.languageAffich}">
			<p:growl id="growl" sticky="true" autoUpdate="true" closable="true"
				life="200" />
			
			<p:panel
				style="width:950px; margin-left: auto; margin-right: auto; margin-top:2px; overflow-x: auto;">

				<p:breadCrumb homeDisplay="">
					<p:menuitem immediate="true">
						<p:outputLabel value="#{toppanmsgs['header.identification']}"
							style="color:#0081C2 ;font-size: 13px !important;" />
					</p:menuitem>
					<p:menuitem immediate="true">
						<p:outputLabel
							value="#{toppanmsgs['header.client_loc']}"
							style="color:#0081C2 ;font-size: 13px !important;" />
					</p:menuitem>
			
				</p:breadCrumb>
				<br />
				<p:fieldset>
				<p:panelGrid id="detailClientLocataire" style="width: 100%"
					styleClass="noBorder">
<!--********************************************** Code Locataire ***********************************************************-->
 <p:row>
						<p:column style="width: 150px;">
							<h:outputText value="#{clientLocatairemsgs['codeLocataire.codeLocataire']}:"
								styleClass="weightBold" />
									
							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
						<p:column  >
							<p:inputText id="code_Locataire" style="width:210px"
								value="#{clientLocataireBean.newClientLocataire.codeLocataire}"
								disabled="true"
								label="#{clientLocatairemsgs['codeLocataire.codeLocataire']}/ #{clientLocatairearmsgs['codeLocataire.codeLocataire']}"
								rendered="true">
							</p:inputText>

						</p:column>
						
						
<!--***************************************************************CLIENT-GROUPE***********************************************  -->
	
						<p:column>
							<h:outputText
								 value="#{clientLocatairemsgs['codeLocataire.groupe']}:"
								styleClass="weightBold" />

							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
						<p:column  >
						<p:inputText id="groupe" style="width:210px"
								value="#{clientLocataireBean.newClientLocataire.groupe.libelle}"
								readonly="true"
								label="#{clientLocatairemsgs['codeLocataire.groupe.libelle']}"
								rendered="true">
							</p:inputText>
						</p:column>
						
					</p:row>


					
						
					
					
<!--***********************************************Nom&Prenom**********************************************************  -->
<p:row>
						<p:column style="width: 150px;">
							<h:outputText value="#{clientLocatairemsgs['codeLocataire.nomPrenomFr']}:"
								styleClass="weightBold" />
							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
						<p:column>
							<p:inputText id="nom_prenom" style="width:210px" required="true" label="#{clientLocatairemsgs['codeLocataire.nomPrenomFr']}"  onkeyup="this.value=this.value.toUpperCase();"
							value="#{clientLocataireBean.newClientLocataire.nomPrenomFr}"
							>
							</p:inputText>
						</p:column>
					<p:column style="width: 150px;">
						<h:outputText value="#{clientLocatairemsgs['codeLocataire.nomPrenomAR']}:"
								styleClass="weightBold" />
						</p:column>
					
						<p:column>
							<p:inputText id="gouvernoratar_libelle" style="width:210px"
							value="#{clientLocataireBean.newClientLocataire.nomPrenomAr}"
							onkeypress="if(event.which &lt; 1569  || event.which  &gt; 1791  )  return false;"
							>
							</p:inputText>
					</p:column>
						
					</p:row>
					
			<!--***********************************************LOGEMENT**************************************************************  -->
					<p:row>
						<p:column>
							<h:outputText
								 value="#{clientLocatairemsgs['codeLocataire.logement']}:"
								styleClass="weightBold" />

							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
					
						<p:column>
							<p:inputText id="logement" style="width:210px" required="true" 
							label="#{clientLocatairemsgs['codeLocataire.logement']}/ #{clientLocatairearmsgs['codeLocataire.logement']}"  
							readonly="true"
							value="#{clientLocataireBean.newClientLocataire.logement.codeLogement}"
							>
							</p:inputText>
						</p:column>
					
			
					
					
<!--***********************************************ADRESSE LOGEMENT******************************************************  -->
			
						<p:column >
							<h:outputText value="#{clientLocatairemsgs['codeLocataire.adresseLogement']}:"
								styleClass="weightBold" />
									
							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
						<p:column  >
						 <p:inputText id="adress"
						  value="#{clientLocataireBean.newClientLocataire.adresseLogement}" 
						onkeyup="this.value=this.value.toUpperCase();"
						style="width:210px" readonly="true"
						  label="#{clientLocatairemsgs['codeLocataire.adresseLogement']}/ #{clientLocatairearmsgs['codeLocataire.adresseLogement']}" 
						  rendered="true"/>
							

						</p:column>
						
					

					</p:row >
<!--***********************************************ADRESSE Correspendance*****************************************************  -->
					<p:row>
						<p:column style="width: 150px;">
							<h:outputText
								value="#{clientLocatairemsgs['codeLocataire.adresseCorrespondance']}:"
								styleClass="weightBold" />

							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
						<p:column  >
							<p:inputText id="adress_corresp" 
								value="#{clientLocataireBean.newClientLocataire.adresseCorrespondance}"
								onkeyup="this.value=this.value.toUpperCase();"
								style="width:210px"
								label="#{clientLocatairemsgs['codeLocataire.adresseCorrespondance']}/ #{clientLocatairearmsgs['codeLocataire.adresseCorrespondance']}"
								rendered="true" />



						</p:column>

					
				
<!--**********************************************************Montant Anuelle*******************************************************  -->

						<p:column >
							<h:outputText value="#{clientLocatairemsgs['codeLocataire.montantLogementAnnuel']}:"
								styleClass="weightBold" />
							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
						<p:column  >
							<p:inputText id="montant_annuel"  style="width:210px"
								value="#{clientLocataireBean.newClientLocataire.loyerAnnuel}"
								label="#{clientLocatairemsgs['codeLocataire.montantLogementAnnuel']}"
								onkeypress="if(event.which &lt; 48 || event.which  &gt; 57 )  return false;"
								>
									

							</p:inputText>

						</p:column>
						
</p:row>
<!--***********************************************************DUREE CONTRAT (Nombre Annee ) Par defaul =1 *************************** -->
<p:row>
						<p:column>
							<h:outputText value="#{clientLocatairemsgs['codeLocataire.dureeContrat']}:"
								styleClass="weightBold" />
							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
						<p:column  >
							<p:inputText id="duree_contrat" style="width:210px"
								value="#{clientLocataireBean.newClientLocataire.duree}"
								label="#{clientLocatairemsgs['codeLocataire.dureeContrat']}/ #{clientLocatairearmsgs['codeLocataire.dureeContrat']}"
								>
								<p:ajax event="blur" listener="#{clientLocataireBean.initDate}" update="date_debut date_fin"></p:ajax>
								</p:inputText>
								

						

						</p:column>
					
<!--**********************************************Date DEBUT***************************************************************************  -->
				
						<p:column >
							<h:outputText
								value="#{clientLocatairemsgs['codeLocataire.DateDebut']}:"
								styleClass="weightBold" />
							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
						<p:column  >
							<p:calendar id="date_debut" style="width:210px" lang="#{languageBean.locale}"
								showOn="button"
								value="#{clientLocataireBean.newClientLocataire.dateDebut}"
								pattern="dd/MM/yyyy" navigator="true" yearRange="1900:2100"
								label="#{clientLocatairemsgs['codeLocataire.DateDebut']}/ #{clientLocatairearmsgs['codeLocataire.DateDebut']}"
							>

								<p:ajax event="dateSelect"
									listener="#{clientLocataireBean.updateDateFin}"
									update="date_fin date_debut" />

							</p:calendar>



						</p:column>
					
					</p:row>

					<!--**********************************************DATE FINT****************************************************************************  -->
<p:row>
						<p:column >
							<h:outputText value="#{clientLocatairemsgs['codeLocataire.datefin']}:"
								styleClass="weightBold" />
							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
						<p:column  >
				
							<p:inputText id="date_fin" 
							readonly="true" style="width:210px"
								value="#{clientLocataireBean.dateFin}"
								label="#{clientLocatairemsgs['codeLocataire.datefin']}/ #{clientLocatairearmsgs['codeLocataire.datefin']}">
								<f:convertDateTime pattern="dd/mm/yyyy" />
							
							</p:inputText>




						</p:column>
						
				
<!--**********************************************************LOYER MENSUEL************************************************************  -->

						<p:column >
							<h:outputText value="#{clientLocatairemsgs['codeLocataire.LoyerMensuel']}:"
								styleClass="weightBold" />
							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
						<p:column  >
							<p:inputText id="montant_mensuel" style="width:210px"
								value="#{clientLocataireBean.newClientLocataire.loyerMensuel}"
								onkeypress="if(event.which &lt; 48 || event.which  &gt; 57 )  return false;"
								label="#{clientLocatairemsgs['codeLocataire.LoyerMensuel']}"
								minValue="0.000">

							</p:inputText>

						</p:column>
					
</p:row>
<!--***********************************************************TAUX DAUGMENTATION*********************************************************  -->
<p:row>
						<p:column >
							<h:outputText value="#{clientLocatairemsgs['codeLocataire.tauxAugmentationAnnuel']}:"
								styleClass="weightBold" />
							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
						<p:column  >
							<pe:inputNumber id="taux_augmentation" style="width:210px"
								value="#{clientLocataireBean.newClientLocataire.tauxAugmetation}"
								label="#{clientLocatairemsgs['codeLocataire.tauxAugmentationAnnuel']}/ #{clientLocatairearmsgs['codeLocataire.tauxAugmentationAnnuel']}"
								minValue="0.00">
									<p:ajax event="blur" ></p:ajax>

							</pe:inputNumber>%
							

						</p:column>
					

<!--************************************************************ETAT CONTRAT*******************************************************************  -->

						<p:column >
							<h:outputText value="#{clientLocatairemsgs['codeLocataire.etatContrat']}:"
								styleClass="weightBold" />
							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
						<p:column  >
						<center>
						<h:selectOneRadio id="etatContrat"
								value="#{clientLocataireBean.newClientLocataire.etatContrat}" label="etatContrat"  required="true"
								style="width:210px"
								>
								
								<f:selectItem itemValue="0" itemLabel="#{clientLocatairemsgs['clientLocataire.etatContratEnregistree']}" />
								<f:selectItem itemValue="1" itemLabel="#{clientLocatairemsgs['clientLocataire.etatContratSigne']}" />
							<p:ajax update="date_enregistrement"></p:ajax>
						

							</h:selectOneRadio>
							</center>
							
						</p:column>
						
</p:row>
<!--***********************************************Date enregistrement ***************************************************************  -->
					<p:row>
						<p:column >
							<h:outputText
								value="#{clientLocatairemsgs['codeLocataire.DateEnregistrement']}:"
								styleClass="weightBold" />
							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
						<p:column  >
							<p:calendar id="date_enregistrement" style="width:170px" lang="#{languageBean.locale}"
								showOn="button"
								value="#{clientLocataireBean.newClientLocataire.dateEnregistrement}"
								pattern="dd/MM/yyyy" navigator="true" yearRange="1900:2100" readonly="#{clientLocataireBean.newClientLocataire.etatContrat==1}"
								required="#{clientLocataireBean.newClientLocataire.etatContrat==0}"
								label="#{clientLocatairemsgs['codeLocataire.DateEnregistrement']}/ #{clientLocatairearmsgs['codeLocataire.DateEnregistrement']}"
								 >
								  <p:ajax event="dateSelect" update="date_signature"></p:ajax>
								 </p:calendar>




						</p:column>
						
<!--****************************************************************Solde Loyer*********************************************************  -->

						<p:column >
							<h:outputText value="#{clientLocatairemsgs['codeLocataire.soldeLoyer']}:"
								styleClass="weightBold" />
							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
						<p:column  >
						<center>
						<h:selectOneRadio id="solde_loyer" style="width:210px"
								value="#{clientLocataireBean.newClientLocataire.soldeLoyer}"
								 label="#{clientLocatairemsgs['codeLocataire.soldeLoyer']}/#{clientLocatairearmsgs['codeLocataire.soldeLoyer']}"  
								required="true"
								
								>
								
								<f:selectItem itemValue="0" itemLabel="#{clientLocatairemsgs['clientLocataire.soldeProvisoire']}" />
								<f:selectItem itemValue="1" itemLabel="#{clientLocatairemsgs['clientLocataire.soldeDefenitive']}"  />
						
						

							</h:selectOneRadio>
							</center>
							
						</p:column>
						
</p:row>
<!-- ***************************************************Date signature****************************************************  -->
<p:row>
<p:column >
							<h:outputText
								value="#{clientLocatairemsgs['codeLocataire.dateSignature']}:"
								styleClass="weightBold" />
							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
						<p:column  >
							<p:calendar id="date_signature" style="width:170px"
								showOn="button" lang="#{languageBean.locale}"
								value="#{clientLocataireBean.newClientLocataire.dateSignature}"
								pattern="dd/MM/yyyy" navigator="true" yearRange="1900:2100" disabled="#{clientLocataireBean.newClientLocataire.dateEnregistrement==null}"
								required="#{clientLocataireBean.newClientLocataire.dateEnregistrement!=null}"
								label="#{clientLocatairemsgs['codeLocataire.dateSignature']}"
								 />




						</p:column>
<!--***************************************************CIN**************************************************************  -->

							<p:column>
							<h:outputText value="#{clientLocatairemsgs['codeLocataire.cin']}:"
								styleClass="weightBold" />
									
							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
						<p:column  >
						 <p:inputMask id="cin"  readonly="true"
						  value="#{clientLocataireBean.newClientLocataire.cin}" 
						  mask="09 99 99 99"   
						  style="width:210px"
						  label="#{clientLocatairemsgs['codeLocataire.cin']}" 
						  rendered="true"/>
							

						</p:column>
						<p:column >
							<h:outputText
								value="#{clientLocatairemsgs['codeLocataire.dateFinLocation']}:"
								styleClass="weightBold" />
							<h:outputText value="*" styleClass="required-star-right" />
						</p:column>
						<p:column  >
							<p:calendar id="date_fin_Contrat" style="width:170px" lang="#{languageBean.locale}"
								showOn="button"
								value="#{clientLocataireBean.newClientLocataire.dateFinLocation}"
								pattern="dd/MM/yyyy" navigator="true" yearRange="1900:2100" readonly="#{clientLocataireBean.newClientLocataire.etatContrat==1}"
								required="#{clientLocataireBean.newClientLocataire.etatContrat==0}"
								label="#{clientLocatairemsgs['codeLocataire.dateFinLocation']}"
								 />
								 </p:column>
					</p:row>
<!--*************************************************ANNEEBUDGETAIRE********************************************  -->
						
				</p:panelGrid></p:fieldset>
				<br />
<!--***********************************************COMMAND BUTTON***********************************************************************-->
				
			
				<div style="width: 100%; text-align: right">
					<p:spacer width="5px" />
					<p:commandButton id="editBtn" styleClass="ui-priority-primary"
						value="#{generalmsgs['navigation.save']}" 
						oncomplete="if(!args.validationFailed){PF('updConfirmation').show()};"
						>
					</p:commandButton>
					<p:spacer width="5px" />
					<p:commandButton id="newBtn" styleClass="ui-priority-primary"
						value="#{generalmsgs['navigation.new']}" ajax="true"
						actionListener="#{clientLocataireBean.createClientLocataire}" update="@form" 
						process="@this" >

					</p:commandButton>
					<p:spacer width="5px" />
					<p:commandButton id="decline"
						value="#{clientLocatairemsgs['codeLocataireconsulter']}"
						 styleClass="ui-priority-primary"
						process="@this"
						actionListener="#{clientLocataireBean.createClientLocataire}" update="@form" 
						action="#{menuController.goToPageGestionClientLocataire}"/>
				</div>
			</p:panel>
		</h:form>
<!-- **********************************FIN FORMULAIRE ********DEBUT DIALOGUE AJOUT******************************************************** -->
		<p:confirmDialog id="diagUpd" appendTo="@(body)"
			message="#{generalmsgs['popup.confirm.message.ajout.modification']}"
			header="#{generalmsgs['popup.confirm.header']}" severity="alert"
			widgetVar="updConfirmation" showEffect="explode" hideEffect="bounce">
			<div align="right">
				<h:form id="diagForm1" dir="#{languageBean.languageAffich}">
					 <p:commandButton id="confirm_save"
						value="#{generalmsgs['popup.confirmer']}"
						oncomplete="PF('updConfirmation').hide();"
						actionListener="#{clientLocataireBean.saveClientLocataire}"
						
						styleClass="ui-priority-primary"   /> 
					<p:commandButton id="decline" process="@this"
						value="#{generalmsgs['popup.quitter']}"
						onclick="updConfirmation.hide()" styleClass="ui-priority-primary" />
				</h:form>
			</div>
		</p:confirmDialog>
	</ui:define>
</ui:composition>
</html>
